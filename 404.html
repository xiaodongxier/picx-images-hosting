<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è¯·ç¨ç­‰ï¼Œå›¾ç‰‡æ­£åœ¨åŠ è½½</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      color: #f8fafc;
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    h1 {
      font-size: 28px;
      margin: 10px 0;
    }

    #timer {
      font-size: 60px;
      font-weight: bold;
      margin: 15px 0;
      color: #38bdf8;
      text-shadow: 0 0 10px rgba(56, 189, 248, 0.7);
    }

    #msg {
      font-size: 16px;
      opacity: 0.9;
      margin-top: 5px;
    }

    canvas {
      margin-top: 30px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
    }

    #musicTip {
      margin-top: 20px;
      font-size: 12px;
      opacity: 0.6;
    }
  </style>
</head>

<body>
  <h1>å›¾ç‰‡è¿˜åœ¨è·¯ä¸Š ğŸššğŸ’¨</h1>
  <div id="timer">60</div>
  <div id="msg">åˆ«æ€¥ï¼Œä¸€åˆ‡æ­£åœ¨å‡†å¤‡ä¸­â€¦</div>
  <canvas id="c" width="400" height="200"></canvas>
  <div id="musicTip">ğŸµ å¦‚æœæ²¡æœ‰å£°éŸ³ï¼Œè¯·ç‚¹å‡»é¡µé¢ä»¥å¯åŠ¨éŸ³ä¹</div>

  <!-- èƒŒæ™¯éŸ³ä¹ï¼Œæ›¿æ¢ src ä¸ºä½ è‡ªå·±çš„ mp3 é“¾æ¥ -->
  <audio id="bgm" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop preload="auto"></audio>

  <script>
    // å€’è®¡æ—¶
    let sec = 60;
    const timerEl = document.getElementById('timer');
    const msgEl = document.getElementById('msg');
    const bgm = document.getElementById('bgm');
    const messages = [
      "âŒ› ç½‘ç»œæ­£åœ¨å¸®ä½ æ‰“åŒ…å¿«é€’â€¦",
      "ğŸ¢ æœ‰ç‚¹æ…¢ï¼Œä½†ä¹Œé¾Ÿä¹Ÿèƒ½åˆ°ç»ˆç‚¹ï¼",
      "ğŸµ ç­‰å¾…çš„æ—¶å€™ï¼Œä¸å¦¨å“¼ä¸€é¦–æ­Œï½",
      "ğŸ¤– æ­£åœ¨åŠªåŠ›å”¤é†’å›¾ç‰‡â€¦",
      "ğŸŒŒ æ”¾æ¾ä¸€ä¸‹çœ¼ç›ï¼Œçœºæœ›ä¸€ä¸‹è¿œæ–¹å§ã€‚"
    ];

    function tick() {
      timerEl.textContent = sec;
      if (sec % 5 === 0) { // æ¯5ç§’æ¢ä¸€å¥è¯
        msgEl.textContent = messages[Math.floor(Math.random() * messages.length)];
      }
      if (sec > 0) {
        sec--;
        setTimeout(tick, 1000);
      }
      else {
        msgEl.textContent = "âœ… å›¾ç‰‡åº”è¯¥èƒ½åŠ è½½äº†ï¼Œé©¬ä¸Šåˆ·æ–°â€¦";
        setTimeout(() => { location.reload(); }, 2000); // 2ç§’åè‡ªåŠ¨åˆ·æ–°
      }
    }
    tick();

    // åŠ¨ç”»å°çƒ
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    let x = 50, y = 50, vx = 3, vy = 2, r = 15;
    function loop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "#38bdf8";
      ctx.beginPath();
      ctx.arc(x, y, r, 0, Math.PI * 2);
      ctx.fill();
      x += vx; y += vy;
      if (x < r || x > canvas.width - r) vx *= -1;
      if (y < r || y > canvas.height - r) vy *= -1;
      requestAnimationFrame(loop);
    }
    loop();

    // è‡ªåŠ¨æ’­æ”¾éŸ³ä¹ï¼ˆéƒ¨åˆ†æµè§ˆå™¨éœ€è¦ç”¨æˆ·äº¤äº’æ‰èƒ½çœŸæ­£æ’­æ”¾ï¼‰
    function playMusic() {
      bgm.play().catch(() => { /* é™é»˜å¤±è´¥ */ });
      document.removeEventListener('click', playMusic);
    }
    playMusic();
    document.addEventListener('click', playMusic);
  </script>
</body>

</html>