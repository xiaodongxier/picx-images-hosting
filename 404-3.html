<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è¯·ç¨ç­‰ï¼Œå›¾ç‰‡æ­£åœ¨åŠ è½½</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#6366F1', // é›è“è‰²
            secondary: '#10B981', // ç»¿è‰²
            accent: '#F472B6', // ç²‰è‰²
            dark: '#0F172A',
            light: '#F8FAFC'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>

  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow-glow {
        text-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor;
      }
      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
      }
      .animate-float {
        animation: float 6s ease-in-out infinite;
      }
      .animate-float-delay-1 {
        animation: float 6s ease-in-out 1s infinite;
      }
      .animate-float-delay-2 {
        animation: float 6s ease-in-out 2s infinite;
      }
      .animate-pulse-slow {
        animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }
      .backdrop-blur {
        backdrop-filter: blur(8px);
      }
      .grid-pattern {
        background-size: 40px 40px;
        background-image: 
          linear-gradient(to right, rgba(99, 102, 241, 0.05) 1px, transparent 1px),
          linear-gradient(to bottom, rgba(99, 102, 241, 0.05) 1px, transparent 1px);
      }
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0px); }
    }
  </style>
</head>

<body
  class="m-0 bg-gradient-to-br from-dark via-slate-900 to-slate-800 text-light font-inter min-h-screen flex flex-col items-center justify-center overflow-hidden relative grid-pattern">
  <!-- èƒŒæ™¯è£…é¥°å…ƒç´  -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-1/4 -left-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-1/3 -right-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl animate-pulse-slow"
      style="animation-delay: 2s;"></div>
    <div
      class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-secondary/10 rounded-full blur-3xl animate-pulse-slow"
      style="animation-delay: 1s;"></div>
  </div>

  <!-- æµ®åŠ¨è£…é¥°å…ƒç´  -->
  <div class="absolute top-[10%] left-[10%] w-16 h-16 rounded-full bg-primary/10 backdrop-blur animate-float"></div>
  <div
    class="absolute bottom-[15%] right-[15%] w-24 h-24 rounded-full bg-accent/10 backdrop-blur animate-float-delay-1">
  </div>
  <div class="absolute top-[70%] left-[20%] w-20 h-20 rounded-full bg-secondary/10 backdrop-blur animate-float-delay-2">
  </div>

  <!-- ä¸»å†…å®¹ -->
  <div class="relative z-10 text-center px-4 max-w-3xl w-full">
    <div
      class="inline-block mb-8 p-6 rounded-full bg-white/10 backdrop-blur border border-white/20 animate-float shadow-lg shadow-primary/20">
      <i class="fa fa-picture-o text-6xl text-gradient bg-gradient-to-r from-primary via-accent to-secondary"></i>
    </div>

    <h1
      class="text-[clamp(1.8rem,5vw,3rem)] font-bold mb-6 tracking-tight text-gradient bg-gradient-to-r from-primary via-accent to-secondary transition-all duration-1000 relative">
      å›¾ç‰‡è¿˜åœ¨è·¯ä¸Š
      <span class="inline-block animate-bounce ml-2">ğŸššğŸ’¨</span>
      <span
        class="absolute inset-0 bg-gradient-to-r from-primary/20 via-transparent to-secondary/20 blur-sm opacity-30"></span>
    </h1>

    <div id="timer"
      class="text-[clamp(3rem,10vw,6rem)] font-extrabold mb-6 text-primary text-shadow-glow transition-all duration-500 transform hover:scale-110 hover:text-accent">
      60</div>

    <div id="msg"
      class="text-[clamp(1rem,3vw,1.25rem)] text-slate-300 mb-10 min-h-[2rem] transition-all duration-700 ease-in-out px-4 py-2 rounded-lg bg-white/5 backdrop-blur">
      åˆ«æ€¥ï¼Œä¸€åˆ‡æ­£åœ¨å‡†å¤‡ä¸­â€¦
    </div>

    <!-- ç²’å­åŠ¨ç”»ç”»å¸ƒ -->
    <canvas id="particles"
      class="w-full h-72 rounded-2xl bg-white/5 backdrop-blur border border-white/10 shadow-xl shadow-primary/10 mb-8"></canvas>

    <div id="musicTip"
      class="text-sm text-slate-400 flex items-center justify-center gap-2 group cursor-pointer hover:text-primary transition-colors duration-300">
      <i class="fa fa-music animate-pulse"></i>
      <span>ç‚¹å‡»é¡µé¢å¯åŠ¨èƒŒæ™¯éŸ³ä¹ï¼Œè®©ç­‰å¾…æ›´è½»æ¾</span>
    </div>
  </div>

  <!-- è£…é¥°æ€§è¿›åº¦æ¡ -->
  <div class="absolute bottom-0 left-0 right-0 h-2 bg-white/10 overflow-hidden">
    <div id="progressBar"
      class="h-full bg-gradient-to-r from-primary via-accent to-secondary w-0 transition-all duration-1000"></div>
  </div>

  <!-- æ–°çš„èƒŒæ™¯éŸ³ä¹ - æ›´æœ‰èŠ‚å¥æ„Ÿçš„ç”µå­éŸ³ä¹ -->
  <audio id="bgm" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" loop preload="auto"></audio>

  <script>
    // å€’è®¡æ—¶åŠŸèƒ½
    let sec = 60;
    const timerEl = document.getElementById('timer');
    const msgEl = document.getElementById('msg');
    const progressBar = document.getElementById('progressBar');
    const bgm = document.getElementById('bgm');
    const messages = [
      "âŒ› ç½‘ç»œæ­£åœ¨å¸®ä½ æ‰“åŒ…å¿«é€’â€¦",
      "ğŸ¢ æœ‰ç‚¹æ…¢ï¼Œä½†ä¹Œé¾Ÿä¹Ÿèƒ½åˆ°ç»ˆç‚¹ï¼",
      "ğŸµ ç­‰å¾…çš„æ—¶å€™ï¼Œä¸å¦¨å“¼ä¸€é¦–æ­Œï½",
      "ğŸ¤– æœåŠ¡å™¨æ­£åœ¨åŠªåŠ›å”¤é†’å›¾ç‰‡â€¦",
      "ğŸŒŒ æ”¾æ¾ä¸€ä¸‹çœ¼ç›ï¼Œçœºæœ›ä¸€ä¸‹è¿œæ–¹å§ã€‚",
      "â˜• å°±åƒä¸€æ¯å¥½å’–å•¡ï¼Œå€¼å¾—ç­‰å¾…",
      "ğŸ”§ å·¥ç¨‹å¸ˆæ­£åœ¨è°ƒè¯•æœ€åä¸€ä¸ªåƒç´ ",
      "ğŸš€ å›¾ç‰‡æ­£åœ¨ç©¿è¶Šç½‘ç»œéš§é“",
      "ğŸ“¡ ä¿¡å·å·²æ¥æ”¶ï¼Œæ­£åœ¨è§£ç ä¸­",
      "âœ¨ ä¸ºä½ å‡†å¤‡äº†ä¸€ä»½è§†è§‰ç››å®´",
      "ğŸŒˆ åŠ è½½è¿›åº¦: " + Math.round(((60 - sec) / 60) * 100) + "%",
      "ğŸš¦ æ•°æ®ä¼ è¾“ä¸­ï¼Œè¯·ç¨å€™..."
    ];

    // æ›´æ–°è¿›åº¦æ¡å’Œè¿›åº¦æ¶ˆæ¯
    function updateProgress() {
      const progress = ((60 - sec) / 60) * 100;
      progressBar.style.width = `${progress}%`;

      // æ›´æ–°è¿›åº¦æ¶ˆæ¯
      messages[10] = "ğŸŒˆ åŠ è½½è¿›åº¦: " + Math.round(progress) + "%";
    }

    // å€’è®¡æ—¶é€»è¾‘
    function tick() {
      // æ·»åŠ æ•°å­—å˜åŒ–åŠ¨ç”»
      timerEl.classList.add('scale-110', 'opacity-70');
      setTimeout(() => {
        timerEl.classList.remove('scale-110', 'opacity-70');
      }, 300);

      timerEl.textContent = sec;
      updateProgress();

      // éšæœºæ›´æ¢æç¤ºä¿¡æ¯
      if (sec % 4 === 0) {
        msgEl.style.opacity = '0';
        msgEl.style.transform = 'translateY(10px)';
        setTimeout(() => {
          msgEl.textContent = messages[Math.floor(Math.random() * messages.length)];
          msgEl.style.opacity = '1';
          msgEl.style.transform = 'translateY(0)';
        }, 300);
      }

      if (sec > 0) {
        sec--;
        setTimeout(tick, 1000);
      } else {
        msgEl.textContent = "âœ… å›¾ç‰‡å‡†å¤‡å°±ç»ªï¼Œæ­£åœ¨åˆ·æ–°â€¦";
        // å®ŒæˆåŠ¨ç”»
        timerEl.classList.add('text-secondary');
        // åˆ›å»ºåº†ç¥ç²’å­çˆ†ç‚¸
        createExplosion(canvas.width / 2, canvas.height / 2, 100);

        setTimeout(() => {
          // æ·»åŠ é¡µé¢è¿‡æ¸¡æ•ˆæœ
          document.body.classList.add('opacity-0', 'transition-opacity', 'duration-1000');
          setTimeout(() => location.reload(), 1000);
        }, 2000);
      }
    }
    tick();

    // ç²’å­ç½‘ç»œåŠ¨ç”» - å¢å¼ºç‰ˆ
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');

    // è®¾ç½®Canvaså°ºå¯¸ä¸ºå“åº”å¼
    function resizeCanvas() {
      const container = canvas.parentElement;
      canvas.width = container.clientWidth;
      canvas.height = canvas.clientHeight;
    }

    // åˆå§‹åŒ–å°ºå¯¸å¹¶ç›‘å¬çª—å£å˜åŒ–
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // ç²’å­ç±»
    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 3 + 1;
        this.speedX = Math.random() * 0.8 - 0.4;
        this.speedY = Math.random() * 0.8 - 0.4;
        this.color = this.getRandomColor();
        this.alpha = Math.random() * 0.8 + 0.2;
        this.pulse = Math.random() * Math.PI * 2; // ç”¨äºå‘¼å¸æ•ˆæœ
      }

      getRandomColor() {
        const colors = [
          'rgba(99, 102, 241, 0.8)', // primary
          'rgba(16, 185, 129, 0.8)', // secondary
          'rgba(244, 114, 182, 0.8)'  // accent
        ];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      update() {
        // ç§»åŠ¨ç²’å­
        this.x += this.speedX;
        this.y += this.speedY;

        // å‘¼å¸æ•ˆæœ
        this.pulse += 0.02;
        const pulseSize = Math.sin(this.pulse) * 0.5 + 1; // 1åˆ°1.5å€å¤§å°å˜åŒ–
        this.currentSize = this.size * pulseSize;

        // è¾¹ç•Œæ£€æŸ¥ - ä»å¦ä¸€è¾¹å‡ºç°
        if (this.x < 0) this.x = canvas.width;
        if (this.x > canvas.width) this.x = 0;
        if (this.y < 0) this.y = canvas.height;
        if (this.y > canvas.height) this.y = 0;
      }

      draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.currentSize, 0, Math.PI * 2);
        ctx.fill();

        // ç²’å­å…‰æ™•æ•ˆæœ
        ctx.fillStyle = this.color.replace('0.8', '0.2');
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.currentSize * 2, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    // çˆ†ç‚¸ç²’å­ç±»
    class ExplosionParticle {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.size = Math.random() * 4 + 1;
        this.speedX = Math.random() * 6 - 3;
        this.speedY = Math.random() * 6 - 3;
        this.color = ['#6366F1', '#10B981', '#F472B6'][Math.floor(Math.random() * 3)];
        this.alpha = 1;
        this.life = Math.random() * 30 + 20; // ç”Ÿå‘½å‘¨æœŸ
      }

      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.life--;
        this.alpha = this.life / 50;
        this.size *= 0.97; // é€æ¸ç¼©å°
      }

      draw() {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();

        // å°¾è¿¹æ•ˆæœ
        ctx.fillStyle = this.color + '40'; // é€æ˜åº¦40%
        ctx.beginPath();
        ctx.arc(this.x - this.speedX * 2, this.y - this.speedY * 2, this.size * 0.7, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      }
    }

    // åˆ›å»ºç²’å­æ•°ç»„
    let particles = [];
    const particleCount = 80;
    let explosionParticles = [];

    function initParticles() {
      particles = [];
      for (let i = 0; i < particleCount; i++) {
        particles.push(new Particle());
      }
    }

    // åˆ›å»ºçˆ†ç‚¸æ•ˆæœ
    function createExplosion(x, y, count) {
      for (let i = 0; i < count; i++) {
        explosionParticles.push(new ExplosionParticle(x, y));
      }
    }

    // è¿æ¥ç²’å­çš„çº¿ - å¢å¼ºç‰ˆ
    function connectParticles() {
      for (let a = 0; a < particles.length; a++) {
        for (let b = a; b < particles.length; b++) {
          const dx = particles[a].x - particles[b].x;
          const dy = particles[a].y - particles[b].y;
          const distance = Math.sqrt(dx * dx + dy * dy);

          // è·ç¦»å°äº120æ—¶ç»˜åˆ¶è¿æ¥çº¿ï¼Œçº¿çš„ç²—ç»†éšè·ç¦»å˜åŒ–
          if (distance < 120) {
            const opacity = 1 - distance / 120;
            const lineWidth = 0.8 * opacity;

            // åŠ¨æ€é¢œè‰²
            const gradient = ctx.createLinearGradient(particles[a].x, particles[a].y, particles[b].x, particles[b].y);
            gradient.addColorStop(0, particles[a].color);
            gradient.addColorStop(1, particles[b].color);

            ctx.strokeStyle = gradient;
            ctx.lineWidth = lineWidth;
            ctx.beginPath();
            ctx.moveTo(particles[a].x, particles[a].y);
            ctx.lineTo(particles[b].x, particles[b].y);
            ctx.stroke();
          }
        }
      }
    }

    // é¼ æ ‡äº¤äº’å¢å¼º
    let mouse = {
      x: null,
      y: null,
      radius: 120,
      isDown: false
    };

    window.addEventListener('mousemove', (e) => {
      const rect = canvas.getBoundingClientRect();
      mouse.x = e.x - rect.left;
      mouse.y = e.y - rect.top;

      // é¼ æ ‡ç§»åŠ¨æ—¶åˆ›å»ºè½¨è¿¹ç²’å­
      if (mouse.isDown) {
        createExplosion(mouse.x, mouse.y, 3);
      }
    });

    // é¼ æ ‡æŒ‰ä¸‹æ•ˆæœ
    window.addEventListener('mousedown', () => {
      mouse.isDown = true;
    });

    window.addEventListener('mouseup', () => {
      mouse.isDown = false;
    });

    // é¼ æ ‡ç¦»å¼€CanvasåŒºåŸŸ
    window.addEventListener('mouseout', () => {
      mouse.x = null;
      mouse.y = null;
      mouse.isDown = false;
    });

    // è§¦æ‘¸è®¾å¤‡æ”¯æŒ
    canvas.addEventListener('touchmove', (e) => {
      e.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const touch = e.touches[0];
      mouse.x = touch.clientX - rect.left;
      mouse.y = touch.clientY - rect.top;
      createExplosion(mouse.x, mouse.y, 3);
    }, { passive: false });

    // é¼ æ ‡ä¸ç²’å­äº¤äº’å¢å¼º
    function interactWithParticles() {
      if (!mouse.x || !mouse.y) return;

      for (let i = 0; i < particles.length; i++) {
        const dx = mouse.x - particles[i].x;
        const dy = mouse.y - particles[i].y;
        const distance = Math.sqrt(dx * dx + dy * dy);

        // é¼ æ ‡é è¿‘ç²’å­æ—¶äº§ç”Ÿæ’æ–¥åŠ›ï¼Œé¼ æ ‡æŒ‰ä¸‹æ—¶å¸å¼•åŠ›
        if (distance < mouse.radius) {
          const force = (mouse.radius - distance) / mouse.radius;
          const angle = Math.atan2(dy, dx);
          const forceMultiplier = mouse.isDown ? -0.5 : 1; // æŒ‰ä¸‹æ—¶åå‘åŠ›
          const forceX = Math.cos(angle) * force * forceMultiplier;
          const forceY = Math.sin(angle) * force * forceMultiplier;

          particles[i].x += forceX;
          particles[i].y += forceY;

          // é¼ æ ‡é™„è¿‘ç²’å­å‘å…‰æ•ˆæœ
          if (distance < mouse.radius * 0.5) {
            particles[i].size = Math.max(particles[i].size, 4);
          }
        }
      }
    }

    // åŠ¨ç”»å¾ªç¯
    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯
      drawGrid();

      // æ›´æ–°å’Œç»˜åˆ¶æ™®é€šç²’å­
      for (let i = 0; i < particles.length; i++) {
        particles[i].update();
        particles[i].draw();
      }

      // æ›´æ–°å’Œç»˜åˆ¶çˆ†ç‚¸ç²’å­
      for (let i = 0; i < explosionParticles.length; i++) {
        explosionParticles[i].update();
        explosionParticles[i].draw();

        // ç§»é™¤ç”Ÿå‘½å‘¨æœŸç»“æŸçš„ç²’å­
        if (explosionParticles[i].life <= 0) {
          explosionParticles.splice(i, 1);
          i--;
        }
      }

      connectParticles();
      interactWithParticles();

      // éšæœºåˆ›å»ºå°çˆ†ç‚¸æ•ˆæœå¢åŠ æ´»åŠ›
      if (Math.random() < 0.05) {
        createExplosion(
          Math.random() * canvas.width,
          Math.random() * canvas.height,
          Math.floor(Math.random() * 10) + 5
        );
      }

      requestAnimationFrame(animateParticles);
    }

    // ç»˜åˆ¶åŠ¨æ€ç½‘æ ¼
    function drawGrid() {
      const gridSize = 30;
      const time = Date.now() * 0.001;

      ctx.strokeStyle = 'rgba(99, 102, 241, 0.1)';
      ctx.lineWidth = 1;

      // æ°´å¹³ç½‘æ ¼çº¿ï¼Œéšæ—¶é—´ç§»åŠ¨
      for (let y = 0; y < canvas.height; y += gridSize) {
        const offset = Math.sin(time + y * 0.01) * 10;
        ctx.beginPath();
        ctx.moveTo(0 + offset, y);
        ctx.lineTo(canvas.width + offset, y);
        ctx.stroke();
      }

      // å‚ç›´ç½‘æ ¼çº¿ï¼Œéšæ—¶é—´ç§»åŠ¨
      for (let x = 0; x < canvas.width; x += gridSize) {
        const offset = Math.cos(time + x * 0.01) * 10;
        ctx.beginPath();
        ctx.moveTo(x, 0 + offset);
        ctx.lineTo(x, canvas.height + offset);
        ctx.stroke();
      }
    }

    // åˆå§‹åŒ–å¹¶å¯åŠ¨ç²’å­åŠ¨ç”»
    initParticles();
    animateParticles();

    // éŸ³ä¹æ’­æ”¾åŠŸèƒ½
    function playMusic() {
      bgm.play().then(() => {
        document.getElementById('musicTip').innerHTML = '<i class="fa fa-music text-secondary"></i><span>æ­£åœ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹...</span>';
      }).catch(() => {
        // æ’­æ”¾å¤±è´¥æ—¶ä¸åšå¤„ç†
      });
      document.removeEventListener('click', playMusic);
      document.getElementById('musicTip').removeEventListener('click', playMusic);
    }

    // å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹
    playMusic();

    // ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®æ’­æ”¾éŸ³ä¹
    document.addEventListener('click', playMusic);
    document.getElementById('musicTip').addEventListener('click', playMusic);

    // å¢å¼ºç‰ˆç‚¹å‡»æ³¢çº¹æ•ˆæœ
    document.addEventListener('click', (e) => {
      // åˆ›å»ºå¤–å±‚æ³¢çº¹
      const ripple = document.createElement('div');
      ripple.className = 'fixed rounded-full bg-primary/20 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none';
      ripple.style.left = `${e.clientX}px`;
      ripple.style.top = `${e.clientY}px`;
      ripple.style.width = '0';
      ripple.style.height = '0';
      ripple.style.animation = 'ripple 1.5s ease-out forwards';
      document.body.appendChild(ripple);

      // åˆ›å»ºå†…å±‚æ³¢çº¹
      const innerRipple = document.createElement('div');
      innerRipple.className = 'fixed rounded-full bg-accent/30 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none';
      innerRipple.style.left = `${e.clientX}px`;
      innerRipple.style.top = `${e.clientY}px`;
      innerRipple.style.width = '0';
      innerRipple.style.height = '0';
      innerRipple.style.animation = 'ripple 1s ease-out 0.2s forwards';
      document.body.appendChild(innerRipple);

      // ç§»é™¤æ³¢çº¹å…ƒç´ 
      setTimeout(() => {
        ripple.remove();
        innerRipple.remove();
      }, 1700);
    });

    // æ·»åŠ æ³¢çº¹åŠ¨ç”»æ ·å¼
    const style = document.createElement('style');
    style.textContent = `
      @keyframes ripple {
        0% { width: 0; height: 0; opacity: 1; }
        100% { width: 300px; height: 300px; opacity: 0; }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>

</html>